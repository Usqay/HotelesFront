<div class="mt-3">
    <section class="w-100 mb-3" *ngFor="let item of permissionsData">
        <mat-checkbox class="mb-2" color="primary"
        [checked]="item.selected"
        (change)="toggleAll(item, $event.checked)"
        [indeterminate]="item.indeterminate">
            {{item.title}}
        </mat-checkbox>
        <br>
        
        <div class="w-100 ml-4">
            <mat-checkbox *ngFor="let subitem of item.children" class="mx-3" color="primary"
            (change)="toggleChildren(item, subitem, $event.checked)"
            [checked]="subitem.selected">
                {{subitem.title}}
            </mat-checkbox>
        </div>
    </section>
</div>
<div class="text-right">
    <button mat-flat-button color="primary" (click)="onSubmit()">
        <mat-icon>save</mat-icon>
        Guardar
    </button>
</div>